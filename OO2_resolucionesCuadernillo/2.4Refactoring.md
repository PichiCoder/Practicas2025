Link al cuadernillo: https://docs.google.com/document/d/1lUh8xz8foVFP4Y-gOHUkTNdBLmdag278sfaSR8iMooA/edit?tab=t.0

Para cada una de las siguientes situaciones, realice en forma iterativa los siguientes pasos:
(i) indique el mal olor,
(ii) indique el refactoring que lo corrige, 
(iii) aplique el refactoring, mostrando el resultado final (código y/o diseño según corresponda). 
Si vuelve a encontrar un mal olor, retorne al paso (i). 

![alt text](image-1.png)

Codigo Inicial

``` java
public class Producto {
    private String nombre;
    private double precio;
    
    public double getPrecio() {
        return this.precio;
    }
}

public class ItemCarrito {
    private Producto producto;
    private int cantidad;
        
    public Producto getProducto() {
        return this.producto;
    }
    
    public int getCantidad() {
        return this.cantidad;
    }
}

public class Carrito {
    private List<ItemCarrito> items;
    
    public double total() {
        return this.items.stream()
        .mapToDouble(item -> 
        item.getProducto().getPrecio() * item.getCantidad())
        .sum();
    }
}
```

Carrito tiene una lista de items, falta el * en el UML.




- Replace Inline Code with Method Call: Usar getPrecioTotalItem() en Carrito.

1. i) Nombre de metodo total() poco claro
ii) Rename Method: Cambiar total() ---> precioTotalCarrito().

``` java
public class Producto {
    private String nombre;
    private double precio;
    
    public double getPrecio() {
        return this.precio;
    }
}

public class ItemCarrito {
    private Producto producto;
    private int cantidad;
        
    public Producto getProducto() {
        return this.producto;
    }
    
    public int getCantidad() {
        return this.cantidad;
    }
}

public class Carrito {
    private List<ItemCarrito> items;
    
    public double precioTotalCarrito() {
        return this.items.stream()
        .mapToDouble(item -> 
        item.getProducto().getPrecio() * item.getCantidad())
        .sum();
    }
}
```


2. i) Envidia de atributos en metodo total() de Carrito.
ii) Extract Method: crear getPrecioTotalItem() en ItemCarrito.

- DUDA: Aca estoy extrayendo un metodo hacia otra clase, no pasa nada ? sigue siendo extract method y punto ? 


``` java
public class Producto {
    private String nombre;
    private double precio;
    
    public double getPrecio() {
        return this.precio;
    }
}

public class ItemCarrito {
    private Producto producto;
    private int cantidad;
        
    public Producto getProducto() {
        return this.producto;
    }
    
    public int getCantidad() {
        return this.cantidad;
    }

    public double getPrecioTotalItem() {
        return producto.getPrecio() * cantidad;
    }
}

public class Carrito {
    private List<ItemCarrito> items;
    
    public double precioTotalCarrito() {
        return this.items.stream()
        .mapToDouble(item -> item.getProducto().getPrecio() * item.getCantidad())
        .sum();
    }
}

```

3. i) Codigo repetido en precioTotalCarrito()
ii) Replace Inline Code with Method Call

``` java
public class Producto {
    private String nombre;
    private double precio;
    
    public double getPrecio() {
        return this.precio;
    }
}

public class ItemCarrito {
    private Producto producto;
    private int cantidad;
        
    public Producto getProducto() {
        return this.producto;
    }
    
    public int getCantidad() {
        return this.cantidad;
    }

    public double getPrecioTotalItem() {
        return producto.getPrecio() * cantidad;
    }
}

public class Carrito {
    private List<ItemCarrito> items;
    
    public double precioTotalCarrito() {
        return this.items.stream()
        .mapToDouble(item -> item.getPrecioTotalItem())
        .sum();
    }
}

```